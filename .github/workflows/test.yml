name: Check domain

on: [push]

jobs:
  hello:
    runs-on: ubuntu-latest
    name: Check domain
    strategy:
      matrix:
        domain:
          - https://codex.so/
          - https://editorjs.io/
          - https://hawk.so/
          - https://capella.pics/
    steps:
      - uses: actions/checkout@v2
      - name: Check domain SSL and registry expire date
        id: check-domain
        uses: talyguryn/sample-github-action@v4
        with:
          url: ${{ matrix.domain }}
      - name: Send a message
        uses: codex-team/action-codexbot-notify@v1
        with:
          webhook: ${{ secrets.CODEX_BOT_CHAT }}
          message: 'ðŸ§¨ Domain `${{ matrix.domain }}`\nSSL: ${{ steps.check-domain.outputs.ssl-expire-days-left }}\nDNS: ${{ steps.check-domain.outputs.paid-till-days-left }}'
          parse_mode: 'markdown'
          disable_web_page_preview: true